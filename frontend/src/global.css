/* Global consolidated styles (merged from previous App.css + styles.css minimal subset)
   Keep only essentials; theme-specific colors applied dynamically via ThemeProvider. */

html,
body {
  margin: 0;
  padding: 0;
  font-family:
    Inter,
    ui-sans-serif,
    system-ui,
    -apple-system,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Background & text color are now controlled by ThemeProvider effect (see ThemeProvider.jsx). */
}

/* Fallback initial CSS custom properties (dark mode baseline) to reduce flash before JS applies dynamic vars */
:root {
  --app-mode: dark;
  --app-bg-app: #15171f;
  --app-bg-app-alt: #191b24;
  --app-text-primary: #f4f4f4;
  --app-text-secondary: #a2a9b5;
  --app-primary: #45b773;
  --app-accent: #9fe8c0;
  --app-bg-panel: #22242b;
  --app-bg-panel-alt: #272a33;
  /* New elevated panel token for popovers/menus */
  --mw-bg-panel-elevated: #2d3038;
  --app-border: #30333b;
  /* Unified table + surface tokens */
  --mw-surface-1: var(--app-bg-panel); /* base panel */
  --mw-surface-2: var(--app-bg-panel-alt); /* slightly raised */
  --mw-table-bg: var(--mw-surface-1);
  --mw-table-header-bg: var(--mw-surface-1); /* can be overridden to mw-surface-2 if contrast desired */
  --mw-table-row-alt-bg: rgba(255,255,255,0.025);
  --mw-table-row-hover-bg: rgba(255,255,255,0.05);
  --mw-table-summary-bg: rgba(255,255,255,0.02);
  --mw-shadow-popover: 0 4px 18px -2px rgba(0,0,0,0.55), 0 2px 6px rgba(0,0,0,0.35);
  --mw-shadow-focus: 0 0 0 3px rgba(69,183,115,0.35);
}

/* Light mode overrides */
body.light, .theme-light {
  --app-mode: light;
  --app-bg-app: #f5f6f8;
  --app-bg-app-alt: #eef0f3;
  --app-text-primary: #1d2129;
  --app-text-secondary: #4a5461;
  --app-bg-panel: #ffffff;
  --app-bg-panel-alt: #f2f4f7;
  --mw-bg-panel-elevated: #ffffff;
  --app-border: #d9dfe5;
  --mw-surface-1: var(--app-bg-panel);
  --mw-surface-2: var(--app-bg-panel-alt);
  --mw-table-bg: var(--mw-surface-1);
  --mw-table-header-bg: var(--mw-surface-1);
  --mw-table-row-alt-bg: rgba(0,0,0,0.035);
  --mw-table-row-hover-bg: rgba(0,0,0,0.06);
  --mw-table-summary-bg: rgba(0,0,0,0.025);
  --mw-shadow-popover: 0 6px 24px -4px rgba(0,0,0,0.25), 0 2px 8px rgba(0,0,0,0.15);
  --mw-shadow-focus: 0 0 0 3px rgba(69,183,115,0.35);
}

/* Utility: fixed icon sizes */
.icon-20 {
  width: 20px;
  height: 20px;
  display: inline-block;
}

/* Panel surface alt (light neutral panel override) */
.panel--surface-alt {
  background: var(--mw-surface-2, var(--app-bg-panel-alt));
  border: 1px solid var(--mw-border, var(--app-border));
}

/* Mono truncation utility */
.mono-truncate {
  font-size: 13px;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1 1 0%;
  display: inline-block;
}

/* Summary toggle (details) */
.summary-toggle {
  cursor: pointer;
  font-weight: bold;
}

/* Action Button System */
.btn-base {
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  line-height: 18px;
  white-space: nowrap;
  transition:
    background 0.2s,
    border-color 0.2s,
    color 0.2s,
    opacity 0.2s,
    filter 0.2s,
    transform 0.15s;
  font-family: inherit;
  border: 1px solid transparent;
}
.btn-base:focus {
  outline: none;
  box-shadow: var(--mw-shadow-focus,0 0 0 2px rgba(255,255,255,0.4));
}
.btn-base:active:not(:disabled) {
  transform: translateY(1px);
}
.btn-base.is-disabled,
.btn-base:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

/* Variants (light/dark adaptive via vars) */
.btn-neutral {
  background: var(--mw-btn-neutral-bg, rgba(255, 255, 255, 0.15));
  border-color: var(--mw-btn-neutral-border, rgba(255, 255, 255, 0.2));
  color: var(--mw-text-primary, #fff);
}
.btn-primary {
  background: var(--mw-btn-primary-bg, rgba(255, 255, 255, 0.22));
  border-color: var(--mw-btn-primary-border, rgba(255, 255, 255, 0.35));
  color: var(--mw-text-primary, #fff);
  font-weight: 600;
}
.btn-danger {
  background: var(--mw-btn-danger-bg, rgba(239, 68, 68, 0.18));
  border-color: var(--mw-btn-danger-border, rgba(239, 68, 68, 0.35));
  color: var(--mw-btn-danger-color, #fecaca);
}
.btn-base:not(.is-disabled):hover {
  filter: brightness(1.05);
}

.icon-inline-flex {
  display: inline-flex;
  align-items: center;
}
.icon-spin {
  display: inline-block;
  animation: mw-spin 1s linear infinite;
}

/* Table system */
.table-wrapper {
  background: var(--mw-table-bg, var(--app-bg-panel, var(--app-bg-panel-alt, #1f2430)));
  /* Remove top border to eliminate line above header; keep other sides */
  border: 1px solid var(--mw-table-border, var(--app-border, #2d3442));
  border-top: 0;
  border-radius: 10px;
  /* When removing top border, visually keep radius on top by adding an inset shadow shim if needed */
  overflow: hidden;
}
.table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}
.table th {
  padding: 10px 14px;
  text-align: left;
  font-weight: 500;
  font-size: 11px;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}
.table th,
.table td {
  border: 0;
}
.table-row {
  transition: background 0.2s;
}
.table-row-hover:hover {
  background: var(--mw-table-row-hover-bg, rgba(255, 255, 255, 0.05));
}
.td {
  padding: 12px 14px;
  font-size: 13px;
}
.td-tight { padding:8px 12px; }
.td-roomy { padding:14px 18px; }
.td-generic { padding:12px 16px; }
.table-row-base > td { padding:12px 16px; }
.td-small {
  padding: 10px 14px;
  font-size: 12px;
}
.th-head { padding:10px 14px; font-size:12px; font-weight:500; text-transform:uppercase; letter-spacing:.5px; color: var(--mw-text-secondary,var(--app-text-secondary)); }
.th-left { text-align:left; }
.th-right { text-align:right; }
.th-center { text-align:center; }
.col-name { width:32%; }
.col-range { width:16%; }
.col-price { width:16%; }
.col-amount { width:16%; }
.col-rewards { width:16%; }
.col-value { width:20%; }
.col-price { width:16%; }
/* Rebalancing custom metric columns */
.col-current { width:14%; }
.col-target { width:14%; }
.col-diff { width:14%; }
.col-note { width:12%; }
.col-actions { width:12%; }
@media (max-width: 640px) { .col-actions { display:none; } }
@media (max-width: 520px) { .col-note { display:none; } }
@media (max-width: 900px) { .col-range { display:none; } }
@media (max-width: 760px) { .col-rewards { display:none; } }
@media (max-width: 640px) { .col-amount { display:none; } }
.td-placeholder { opacity:.35; font-style:italic; }
.td-mono-strong { font-family:monospace; font-weight:600; }
.td-mono {
  font-family: monospace;
}
.td-center {
  text-align: center;
}
.td-right {
  text-align: right;
}
.thead-row {
  /* Removed explicit bottom border to match Wallet (borderless header) */
  border-bottom: 0;
}
/* Keep dividers only between body rows; wallet style shows no rule directly under header */
.tbody-divider:not(:last-child) {
  border-bottom: 1px solid var(--mw-table-row-divider, var(--mw-table-border, var(--app-border, #2d3442)));
}
/* Remove divider directly under header (first data row) for a seamless header like Wallet */
.table-unified tbody tr:first-child.tbody-divider { border-bottom:0 !important; }
.collapse-toggle {
  width: 18px;
  height: 18px;
  line-height: 18px;
  text-align: center;
  margin-right: 8px;
  border-radius: 4px;
  font-size: 14px;
  opacity: 0.7;
  user-select: none;
  display: inline-block;
}
.flex {
  display: flex;
}
.align-center {
  align-items: center;
}
.gap-8 {
  gap: 8px;
}
.mt-12 {
  margin-top: 12px;
}
.mb-6 {
  margin-bottom: 6px;
}
.cursor-pointer { cursor:pointer; }
.subtitle {
  font-size: 12px;
  color: var(--mw-text-muted, #8a94a7);
  font-weight: 400;
  margin-bottom: 6px;
  text-transform: uppercase;
}
/* Protocol header adopts shared header bg & border tokens */
.protocol-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--mw-table-header-bg, var(--mw-table-bg, var(--app-bg-panel)));
  border: 1px solid var(--mw-table-border, var(--app-border, #2d3442)); /* consistent token chain */
  border-radius: 10px;
  padding: 10px 16px;
}
.protocol-header-title {
  font-weight: 700;
  font-size: 15px;
}
.protocol-header-value {
  font-family: monospace;
  font-weight: 600;
  font-size: 14px;
}
.protocol-table-container {
  background: var(--mw-table-bg, var(--app-bg-panel, var(--app-bg-panel-alt, #1f2430)));
  border: 1px solid var(--mw-table-border, var(--app-border, #2d3442));
  border-top: none;
  overflow: hidden;
}
.protocol-table-container:last-child {
  border-radius: 0 0 10px 10px;
}
.spacer-6 {
  height: 6px;
}

/* Layout helpers */
.page-container {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}
.mb-20 {
  margin-bottom: 20px;
}
.mt-40 {
  margin-top: 40px;
}
.flex {
  display: flex;
}
.flex-wrap {
  flex-wrap: wrap;
}
.gap-10 {
  gap: 10px;
}
.align-center {
  align-items: center;
}
.mono {
  font-family: monospace;
}
.small {
  font-size: 12px;
}
.muted {
  color: var(--app-text-secondary);
}

/* Panels */
.panel {
  padding: 15px;
  border-radius: 8px;
  background: var(--app-bg-panel, #22242b);
  border: 1px solid var(--app-border, #30333b);
}
.panel--alt {
  background: var(--app-bg-panel-alt, #272a33);
}
.panel--success {
  background: #d4edda;
  border-color: #c3e6cb;
  color: #1b3a26;
}
.panel--error {
  background: #f8d7da;
  border-color: #f5c6cb;
  color: #721c24;
}
.panel--neutral-light {
  background: #f5f5f5;
  border-color: #e3e3e3;
}
.panel--neutral-lighter {
  background: #f9f9f9;
  border-color: #e9e9e9;
}

/* Buttons */
.btn {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  background: var(--app-primary, #45b773);
  color: var(--app-text-on-accent, #0f1712);
  cursor: pointer;
  font: inherit;
  transition:
    background 0.18s ease,
    opacity 0.2s;
}
.btn:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}
.btn--loading {
  background: #ccc !important;
  color: #333;
}
.btn--primary {
  background: var(--app-primary, #45b773);
  color: var(--app-text-on-accent, #0f1712);
}
.btn--primary:hover:not(:disabled) {
  background: var(--app-primary-hover, #54c381);
}
.btn--danger {
  background: #e14f48;
  color: #fff;
}
.btn--danger:hover:not(:disabled) {
  background: #c73f39;
}
.btn--outline {
  background: transparent;
  border: 1px solid var(--app-primary, #45b773);
  color: var(--app-primary, #45b773);
}
.btn--outline:hover:not(:disabled) {
  background: var(--app-primary, #45b773);
  color: var(--app-text-on-accent, #0f1712);
}

/* Form */
.input {
  flex: 1;
  padding: 10px;
  border: 1px solid var(--app-border, #30333b);
  border-radius: 4px;
  font-family: monospace;
  background: var(--app-bg-app-alt, #191b24);
  color: var(--app-text-primary, #f4f4f4);
}

/* Code block */
.code-block {
  background: #f8f9fa;
  padding: 10px;
  margin-top: 10px;
  overflow: auto;
  font-size: 12px;
  border-radius: 4px;
  white-space: pre-wrap;
}

/* Footer */
.footer {
  text-align: center;
  color: #666;
  font-size: 14px;
}

/* Status badges */
.status-healthy {
  color: green;
}
.status-unhealthy {
  color: red;
}
.status-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.25px;
}
.status-badge--healthy {
  background: #1e472c;
  color: #53d385;
}
.status-badge--unhealthy {
  background: #4a1d1d;
  color: #ff7b72;
}
.status-badge--loading {
  background: #2d2f36;
  color: #c7c9d1;
}

/* ---------------------------------------------------- */
/* New utility layer (incremental inline-style migration) */
/* ---------------------------------------------------- */
/* Sizing / layout */
.w-full { width: 100%; }
.table-fixed { table-layout: fixed; }
.collapse { border-collapse: collapse; }

/* Spacing (axis specific) */
.px-3 { padding-left: 12px; padding-right: 12px; }
.py-3 { padding-top: 12px; padding-bottom: 12px; }
.px-4 { padding-left: 16px; padding-right: 16px; }
.py-4 { padding-top: 16px; padding-bottom: 16px; }
.px-5 { padding-left: 20px; padding-right: 20px; }

/* Typography */
.text-xs { font-size: 12px; }
.text-sm { font-size: 13px; }
.text-base { font-size: 14px; }
.text-right { text-align: right; }
.font-mono { font-family: monospace; }
.font-semibold { font-weight: 600; }
.uppercase { text-transform: uppercase; }
.tracking-wide { letter-spacing: 0.5px; }
.text-primary { color: var(--mw-text-primary, var(--app-text-primary)); }
.text-secondary { color: var(--mw-text-muted, var(--app-text-secondary)); }

/* Generic flex helpers */
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.mr-3 { margin-right: 12px; }

/* Avatar / token logos */
.avatar-32 { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; }
.token-logo { width: 32px; height: 32px; border-radius: 50%; border: 1px solid var(--mw-border, var(--app-border)); }

/* Table header row: unify with table body surface unless overridden */
.table-header-row { background: var(--mw-table-header-bg, var(--mw-table-bg, var(--app-bg-panel))); }
.table-unified { width:100%; table-layout:fixed; border-collapse:separate; border-spacing:0; }
.table-unified thead th { background: var(--mw-table-header-bg, var(--mw-table-bg, var(--app-bg-panel))); }
.table-unified tbody tr { background: var(--mw-table-row-bg, transparent); }
.table-unified td, .table-unified th { border:0; }
.table-unified .th-head { padding:10px 14px; }

/* Token rows (hover & stripe handled via classes) */
.token-row { transition: background-color 0.18s; }
.row-hover:hover { background: var(--mw-table-row-hover-bg, rgba(255,255,255,0.05)); }

/* CSS-only zebra striping (applies to all unified tables) */
.table-unified tbody tr:nth-child(odd) { background: var(--mw-table-row-alt-bg, rgba(255,255,255,0.025)); }
.table-unified tbody tr:nth-child(odd):hover { background: var(--mw-table-row-hover-bg, rgba(255,255,255,0.05)); }

/* Summary row + expansion animation */
.table-summary { background: var(--mw-table-summary-bg, rgba(255,255,255,0.02)); font-weight:600; }
.table-summary td { border-top:1px solid var(--mw-table-border, var(--app-border, #2d3442)); }
.indent-md { padding-left:34px !important; }
.expand-anim { animation: poolExpand .28s ease; }
@keyframes poolExpand { from { opacity:0; transform:translateY(-4px);} to { opacity:1; transform:translateY(0);} }

/* Cell padding presets aligned to legacy inline values (16px vertical, 20px horizontal) */
.cell-lg { padding: 16px 20px; }
/* Generic cell sizes derived from recurring inline styles */
.cell { padding: 8px 12px; }
.cell-sm { padding: 6px 8px; }

/* Panels (standard interactive / surface layering) */
.panel { background: var(--mw-panel-bg,var(--app-panel-bg)); border:1px solid var(--mw-border,var(--app-border)); border-radius:12px; }
.panel-alt { background: var(--mw-bg-interactive,var(--app-bg-interactive)); }

/* Chain pill bar */
.chain-pill-bar { display:flex; gap:8px; overflow-x:auto; padding:4px 2px 6px; scrollbar-width:thin; }
.chain-pill-bar::-webkit-scrollbar { height:6px; }
.chain-pill-bar::-webkit-scrollbar-track { background: transparent; }
.chain-pill-bar::-webkit-scrollbar-thumb { background: var(--mw-scrollbar-thumb, #3a3f4a); border-radius: 4px; }
.chain-pill { flex:0 0 auto; padding:6px 14px; font-size:12px; font-weight:500; border:1px solid var(--mw-border,var(--app-border)); border-radius:999px; background: var(--mw-surface-2, var(--app-bg-alt)); color: var(--mw-text-muted,var(--app-text-secondary)); cursor:pointer; line-height:1; transition: background .18s, color .18s, border-color .18s; user-select:none; }
.chain-pill:hover { background: var(--mw-bg-interactive-hover, rgba(255,255,255,0.05)); color: var(--mw-text-primary,var(--app-text-primary)); }
.chain-pill.is-active { background: var(--mw-accent-bg, #2563eb); color: #fff; border-color: var(--mw-accent-border,#2563eb); box-shadow:0 0 0 1px rgba(255,255,255,0.15) inset; }
.chain-pill.is-active:hover { background: var(--mw-accent-bg-hover,#1e4fb8); }

/* Copy button */
.btn-copy { padding:8px 12px; border:1px solid var(--mw-border,var(--app-border)); background: var(--mw-surface-2,var(--app-bg-alt)); border-radius:8px; cursor:pointer; font-size:12px; line-height:1; display:inline-flex; align-items:center; gap:6px; color: var(--mw-text-secondary,var(--app-text-secondary)); transition: background .18s, color .18s, border-color .18s; }
.btn-copy:hover { background: var(--mw-bg-interactive-hover, rgba(255,255,255,0.05)); color: var(--mw-text-primary,var(--app-text-primary)); }
.btn-copy.is-success { background: #1d472d; color:#53d385; border-color:#2d6a45; }

/* Expand/collapse all controls container */
.expand-controls { display:flex; gap:8px; margin-bottom:8px; }
.expand-controls .btn-sm { padding:6px 10px; font-size:11px; line-height:1; }

/* Smooth expand animation for pool token rows */
.pool-token-rows-enter { animation: poolTokenEnter .32s ease; }
@keyframes poolTokenEnter { from { opacity:0; transform:translateY(-4px); } to { opacity:1; transform:translateY(0); } }

/* Height animation utility using CSS trick (for modern browsers) */
.collapsible { overflow:hidden; transition: height .28s ease, background-color .28s ease; }

/* Simple utility for section headings (matches menuHeader font style) */
.section-title { font-size:14px; font-weight:600; letter-spacing:0.5px; text-transform:uppercase; }

/* Input baseline styles */
.input-base { background: var(--mw-bg-input,var(--app-bg-interactive)); border:1px solid var(--mw-border,var(--app-border)); color: var(--mw-text-primary,var(--app-text-primary)); padding:8px 12px; border-radius:8px; font-size:14px; line-height:20px; }
.input-base:focus { outline:none; box-shadow: var(--mw-shadow-focus,0 0 0 2px rgba(255,255,255,0.35)); }
.input-base[disabled] { opacity:0.6; cursor:not-allowed; }
/* Native select dropdown background (Win / WebKit may ignore fully, improves in Firefox/Chromium) */
select.input-base { appearance:auto; background-color: var(--mw-bg-input,var(--app-bg-interactive)); }
select.input-base option { background: var(--mw-bg-panel,var(--app-bg-panel)); color: var(--mw-text-primary,var(--app-text-primary)); }
@media (prefers-color-scheme: dark) {
  select.input-base option { background: var(--mw-bg-panel,var(--app-bg-panel)); }
}

/* Badge styles */
.badge { display:inline-flex; align-items:center; gap:4px; padding:2px 8px; font-size:12px; font-weight:600; border-radius:999px; line-height:1.2; background: var(--mw-badge-bg,rgba(255,255,255,0.12)); color: var(--mw-badge-fg,var(--mw-text-primary,var(--app-text-primary))); }
.badge-secondary { background: var(--mw-badge-secondary-bg,rgba(255,255,255,0.08)); color: var(--mw-text-muted,var(--app-text-secondary)); }
.badge-outline { background: transparent; border:1px solid var(--mw-border,var(--app-border)); }
.badge-success { background: rgba(16,185,129,0.15); color:#10b981; }
.badge-warning { background: rgba(245,158,11,0.18); color:#f59e0b; }
.badge-danger { background: rgba(239,68,68,0.18); color:#ef4444; }

/* Buttons (semantic actions; badges are informational) */
.btn { display:inline-flex; align-items:center; justify-content:center; gap:6px; font-size:14px; font-weight:500; padding:8px 14px; border-radius:8px; cursor:pointer; border:1px solid var(--mw-border,var(--app-border)); background: var(--mw-btn-bg,var(--app-bg-interactive)); color: var(--mw-text-primary,var(--app-text-primary)); transition: background .2s, border-color .2s, color .2s, filter .2s; }
.btn:hover:not(:disabled) { filter: brightness(1.08); }
.btn:disabled { opacity:0.55; cursor:not-allowed; }
.btn-primary { background: var(--mw-primary-subtle,var(--app-primary-subtle)); border-color: var(--mw-primary,var(--app-primary)); font-weight:600; }
.btn-outline { background: transparent; }
.btn-danger { background: rgba(239,68,68,0.18); border-color: rgba(239,68,68,0.4); color:#ef4444; }
.btn-sm { padding:4px 10px; font-size:12px; border-radius:6px; }

/* Form group vertical stack */
.form-group { display:flex; flex-direction:column; gap:6px; }
.btn-icon { padding:4px; width:30px; height:30px; min-width:30px; min-height:30px; display:inline-flex; align-items:center; justify-content:center; }

/* Utility groups for composition */
.mono-value { font-family: monospace; font-size: 13px; }

/* Symbol / name stack */
.token-symbol { font-weight: 600; font-size: 14px; margin-bottom: 2px; }
.token-name { font-size: 12px; }

/* Hide broken images (applied via onError inline handler replacement in future) */
.is-hidden { display: none !important; }
.mb-30 {
  margin-bottom: 30px !important;
}
.mt-10 {
  margin-top: 10px !important;
}
.grid-rebalance { display:grid; grid-template-columns:1.9fr 1.6fr 0.8fr 0.8fr 0.8fr 0.6fr 72px; gap:0; }
.panel-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.panel-title { font-weight:700; font-size:16px; }
.flex-center { display:flex; align-items:center; }
.flex-end { display:flex; justify-content:flex-end; align-items:center; }
.text-success { color: var(--mw-success-text, var(--app-success-text,#16a34a)); }
.text-danger { color: var(--mw-danger-text, var(--app-danger-text,#dc2626)); }
.badge-sm { font-size:12px; padding:2px 6px; line-height:1.2; }
.pad-10-12 { padding:10px 12px; }
.pad-16 { padding:16px; }
.modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:1000; display:flex; align-items:center; justify-content:center; padding:16px; }
.modal-card { background: var(--mw-bg-panel,var(--app-bg-panel)); border:1px solid var(--mw-border,var(--app-border)); border-radius:12px; width:min(860px,96vw); max-width:860px; padding:16px; box-shadow: var(--mw-shadow-hover,var(--app-shadow-hover)); }
.truncate { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.icon-circle { width:18px; height:18px; border-radius:50%; background: var(--mw-bg-panel,var(--app-bg-panel)); border:1px solid var(--mw-border,var(--app-border)); }
.avatar-18 { width:18px; height:18px; border-radius:50%; object-fit:cover; display:block; }
.text-secondary { color: var(--mw-text-secondary,var(--app-text-secondary)); }
.text-primary { color: var(--mw-text-primary,var(--app-text-primary)); }
.text-transparent { color: transparent !important; }
.rebalance-panel { background: var(--mw-bg-interactive,var(--app-bg-interactive)); color: var(--mw-text-primary,var(--app-text-primary)); }
.modal-title { margin-bottom:12px; font-weight:700; font-size:16px; }
.rebalance-form-grid { display:grid; grid-template-columns:1fr 1.4fr 1fr 1.2fr 0.8fr; gap:12px; align-items:start; }
.label-sm { font-size:12px; font-weight:600; }
.input-static { font-size:12px; color: var(--mw-text-secondary,var(--app-text-secondary)); padding:0 10px; height:38px; display:flex; align-items:center; border:1px solid var(--mw-border,var(--app-border)); border-radius:8px; width:100%; box-sizing:border-box; }
.dialog-actions { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:16px; }
.rebalance-entries { margin-top:16px; }
.rebalance-entries-wrapper { border:1px solid var(--mw-border,var(--app-border)); border-radius:10px; overflow:hidden; }
.rebalance-header-row { background: var(--mw-bg-panel,var(--app-bg-panel)); padding:10px 12px; font-size:12px; color: var(--mw-text-secondary,var(--app-text-secondary)); font-weight:700; }
.rebalance-group-header { padding:8px 12px; font-size:12px; font-weight:700; background: var(--mw-bg-panel-hover,var(--app-bg-panel-hover,var(--mw-bg-panel,var(--app-bg-panel)))); border-top:1px solid var(--mw-border,var(--app-border)); color: var(--mw-text-secondary,var(--app-text-secondary)); }
.rebalance-row { border-top:1px solid var(--mw-border,var(--app-border)); padding:10px 12px; font-size:13px; align-items:center; }
.row-actions { display:flex; justify-content:flex-end; gap:6px; }
.save-bar { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:12px; font-size:12px; color: var(--mw-text-secondary,var(--app-text-secondary)); }
.min-w-0 { min-width:0; }
.flex { display:flex; }
.column { flex-direction:column; }
.items-center { align-items:center; }
.justify-between { justify-content:space-between; }
.flex-1 { flex:1; }
.relative { position:relative; }
.w-full { width:100%; }
.pad-6 { padding:6px; }
.dropdown-btn { background: var(--mw-bg-panel,var(--app-bg-panel)); border:1px solid var(--mw-border,var(--app-border)); color: var(--mw-text-primary,var(--app-text-primary)); padding:8px 10px; border-radius:8px; font-size:13px; width:100%; min-width:0; height:38px; display:flex; align-items:center; justify-content:space-between; gap:8px; cursor:pointer; box-sizing:border-box; transition: background .15s, border-color .15s; }
.dropdown-btn:hover { background: var(--mw-bg-panel-hover,var(--app-bg-panel-hover,var(--mw-bg-panel,var(--app-bg-panel)))); }
.dropdown-menu { position:absolute; z-index:20; top:calc(100% + 6px); left:0; right:0; background: var(--mw-bg-panel-elevated,var(--mw-bg-panel,var(--app-bg-panel))); border:1px solid var(--mw-border,var(--app-border)); border-radius:8px; box-shadow: var(--mw-shadow-popover,var(--mw-shadow-hover,var(--app-shadow-hover))); max-height:300px; overflow-y:auto; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
.dropdown-menu { opacity:0; transform:translateY(4px); animation: dropdown-enter .18s ease forwards; }
@keyframes dropdown-enter { to { opacity:1; transform:translateY(0); } }
@media (prefers-reduced-motion: reduce) { .dropdown-menu { animation:none; opacity:1; transform:none; } }
.dropdown-option { display:flex; align-items:center; width:100%; gap:8px; background:transparent; border:none; color: var(--mw-text-primary,var(--app-text-primary)); padding:8px 10px; border-radius:6px; cursor:pointer; font-size:13px; text-align:left; }
.dropdown-option.text-secondary { color: var(--mw-text-secondary,var(--app-text-secondary)); }
.dropdown-option:hover { background: var(--mw-bg-panel-hover,var(--app-bg-panel-hover)); }
.dropdown-btn:focus, .icon-button:focus, .dropdown-option:focus { outline:none; box-shadow: var(--mw-shadow-focus,0 0 0 2px rgba(255,255,255,0.4)); }
.dropdown-option:focus { background: var(--mw-bg-panel-hover,var(--app-bg-panel-hover)); }
.text-ellipsis-sm { font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Tooltip utilities */
.tooltip-wrapper { position:relative; display:inline-flex; align-items:center; }
.info-icon { cursor:pointer; opacity:0.85; transition:opacity .2s; }
.info-icon:hover { opacity:1; }
.tooltip-wrapper.is-open .info-icon { opacity:1; filter:brightness(1.2); }
.tooltip-bubble { position:absolute; top:100%; left:50%; transform:translate(-50%,6px); background: var(--mw-bg-panel,var(--app-bg-panel)); border:1px solid var(--mw-border,var(--app-border)); color: var(--mw-text-primary,var(--app-text-primary)); padding:6px 8px; border-radius:6px; font-size:11px; line-height:1.3; max-width: var(--tooltip-max-width,180px); z-index:20; box-shadow: var(--mw-shadow-popover,0 2px 6px rgba(0,0,0,0.35)); }
.tooltip-wrapper[data-max-width] .tooltip-bubble { max-width: attr(data-max-width px); }
.tooltip-left { left:0; transform:translate(0,6px); }
.tooltip-center { left:50%; transform:translate(-50%,6px); }

/* Table utilities for DataTable */
.table { display:table; width:100%; border-collapse:collapse; }
.table-row { display:table-row; }
.table-cell { display:table-cell; padding:6px 4px; vertical-align:middle; text-align:left; }
.table-header-cell { padding:8px 4px; font-weight:600; }
.text-left { text-align:left; }
.text-center { text-align:center; }
.text-right { text-align:right; }
.data-table { width:100%; }

/* Spacing scale (4px base) */
[class*='m-'],
[class*='p-'] {
  box-sizing: border-box;
}
.m-0 {
  margin: 0 !important;
}
.m-1 {
  margin: 4px !important;
}
.m-2 {
  margin: 8px !important;
}
.m-3 {
  margin: 12px !important;
}
.m-4 {
  margin: 16px !important;
}
.m-5 {
  margin: 20px !important;
}
.m-6 {
  margin: 24px !important;
}
.m-7 {
  margin: 28px !important;
}
.m-8 {
  margin: 32px !important;
}
.mt-0 {
  margin-top: 0 !important;
}
.mt-1 {
  margin-top: 4px !important;
}
.mt-2 {
  margin-top: 8px !important;
}
.mt-3 {
  margin-top: 12px !important;
}
.mt-4 {
  margin-top: 16px !important;
}
.mt-5 {
  margin-top: 20px !important;
}
.mt-6 {
  margin-top: 24px !important;
}
.mt-7 {
  margin-top: 28px !important;
}
.mt-8 {
  margin-top: 32px !important;
}
.mb-0 {
  margin-bottom: 0 !important;
}
.mb-1 {
  margin-bottom: 4px !important;
}
.mb-2 {
  margin-bottom: 8px !important;
}
.mb-3 {
  margin-bottom: 12px !important;
}
.mb-4 {
  margin-bottom: 16px !important;
}
.mb-5 {
  margin-bottom: 20px !important;
}
.mb-6 {
  margin-bottom: 24px !important;
}
.mb-7 {
  margin-bottom: 28px !important;
}
.mb-8 {
  margin-bottom: 32px !important;
}
.mb-9 {
  margin-bottom: 36px !important;
}
.mb-10 {
  margin-bottom: 40px !important;
}
.p-0 {
  padding: 0 !important;
}
.p-1 {
  padding: 4px !important;
}
.p-2 {
  padding: 8px !important;
}
.p-3 {
  padding: 12px !important;
}
.p-4 {
  padding: 16px !important;
}
.p-5 {
  padding: 20px !important;
}
.p-6 {
  padding: 24px !important;
}
.p-7 {
  padding: 28px !important;
}
.p-8 {
  padding: 32px !important;
}

/* Gap utilities (flex/grid) */
.gap-4 {
  gap: 4px;
}
.gap-5 {
  gap: 5px;
}
.gap-6 {
  gap: 6px;
}
.gap-8 {
  gap: 8px;
}
.gap-12 {
  gap: 12px;
}
.gap-16 {
  gap: 16px;
}
.gap-20 {
  gap: 20px;
}

/* Basic app container (if used) */
.App {
  min-height: 100vh;
}

h1,
h2,
h3 {
  margin-top: 0;
}

/* Form elements base */
input,
button {
  font-size: 14px;
  font-family: inherit;
}
button {
  cursor: pointer;
}
button:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}

/* Utility: prevent layout issues with pre blocks */
pre {
  white-space: pre-wrap;
  word-break: break-word;
}

/* Mono icon utility (kept from original styles.css) */
.mono-icon {
  filter: grayscale(100%) contrast(1.05) saturate(0.3);
  opacity: 0.85;
  transition:
    filter 0.25s,
    opacity 0.25s,
    transform 0.25s;
  display: inline-flex;
  align-items: center;
}
.mono-icon:hover {
  filter: grayscale(40%) contrast(1.05) saturate(0.6);
  opacity: 1;
  transform: translateY(-1px);
}
.mono-icon.mono-strong {
  filter: grayscale(80%) saturate(0.4);
}
.mono-icon.inactive {
  filter: grayscale(100%) opacity(0.5);
  opacity: 0.5;
}

/* Reusable spin animation (moved from inline ActionButton) */
@keyframes mw-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Responsive tweaks (kept minimal) */
@media (max-width: 768px) {
  .App {
    padding: 0;
  }
}

/* Summary / icon helpers (added for SummaryView refactor) */
.circle-32 { width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; }
.bg-primary-subtle { background: var(--mw-primary-subtle,var(--app-primary-subtle,rgba(69,183,115,0.15))); }
.summary-panel { background: var(--mw-bg-panel,var(--app-bg-panel)); border:1px solid var(--mw-border,var(--app-border)); border-radius:12px; }
.summary-header { display:flex; align-items:center; gap:12px; margin-bottom:20px; }
.summary-title { font-size:20px; font-weight:700; margin:0 0 4px 0; }
.summary-sub { font-size:14px; margin:0; }
.summary-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:16px; margin-bottom:20px; }
.metric-card { background: var(--mw-bg-interactive,var(--app-bg-interactive)); border:1px solid var(--mw-border,var(--app-border)); border-radius:8px; padding:16px; }
.metric-label { font-size:12px; color: var(--mw-text-secondary,var(--app-text-secondary)); margin-bottom:8px; font-weight:600; text-transform:uppercase; letter-spacing:0.5px; }
.metric-value-lg { font-size:24px; font-weight:700; }
.metric-value-md { font-size:20px; font-weight:600; }
.quick-stats { display:flex; gap:24px; flex-wrap:wrap; }
.quick-stat { display:flex; align-items:center; gap:8px; }
.quick-dot { width:8px; height:8px; border-radius:50%; }
.quick-dot.liquidity { background:#10b981; }
.quick-dot.lending { background:#3b82f6; }
.quick-dot.staking { background:#f59e0b; }

/* DeFi menu / protocol utilities */
.defi-group-separator { border-bottom:1px solid var(--mw-border,var(--app-border)); }
.defi-protocol-header { font-weight:600; margin-bottom:8px; font-size:13px; color: var(--mw-text-primary,var(--app-text-primary)); }
.defi-protocol-wrapper { padding:12px 16px; background: var(--mw-bg-panel-alt,var(--app-bg-panel-alt)); border:none; }
.defi-pool-wrapper { margin-bottom:8px; }
.defi-pool-title { font-weight:600; margin-bottom:8px; color: var(--mw-text-primary,var(--app-text-primary)); font-size:13px; }
.defi-pool-tokens { display:flex; flex-direction:column; gap:6px; padding-left:12px; border:none; }
.defi-position-list { padding:16px; background: var(--mw-bg-panel-alt,var(--app-bg-panel-alt)); }
.defi-position { margin-bottom:12px; }
.defi-position-title { font-weight:600; margin-bottom:8px; color: var(--mw-text-primary,var(--app-text-primary)); font-size:13px; display:flex; align-items:center; }
.defi-token-row { display:flex; justify-content:space-between; align-items:center; padding:12px 16px; background: var(--mw-table-bg,var(--app-bg-panel)); border-radius:8px; margin-bottom:6px; transition:background-color .18s; }
.defi-token-row:last-child { margin-bottom:0; }
.defi-token-row:hover { background: var(--mw-table-row-hover-bg,rgba(255,255,255,0.05)); }
.defi-token-main { display:flex; align-items:center; }
.logo-20 { width:20px; height:20px; border-radius:50%; display:block; }
.logo-border { border:1px solid var(--mw-border,var(--app-border)); }
.logo-stack { position:relative; width:20px; height:20px; margin-right:8px; }
.logo-badge-12 { position:absolute; top:-4px; right:-4px; width:12px; height:12px; border-radius:50%; border:1px solid var(--mw-border,var(--app-border)); background: var(--mw-bg-panel,var(--app-bg-panel)); display:block; }
.token-symbol { font-weight:600; font-size:14px; color: var(--mw-text-primary,var(--app-text-primary)); }
.token-type-chip { margin-left:8px; }
.defi-row-values { display:flex; gap:24px; align-items:center; }
.defi-value-block { text-align:right; }
.defi-value-label { font-size:11px; color: var(--mw-text-muted,var(--app-text-secondary)); margin-bottom:2px; }
.defi-value-mono { font-family:monospace; font-size:13px; font-weight:500; }
.defi-value-mono-strong { font-family:monospace; font-size:14px; font-weight:600; color: var(--mw-text-primary,var(--app-text-primary)); }
.defi-container { background: var(--mw-bg-panel,var(--app-bg-panel)); border-radius:0 0 12px 12px; overflow:hidden; }
.logo-stack { position:relative; width:20px; height:20px; margin-right:8px; }
.token-logo { width:20px; height:20px; border-radius:50%; border:1px solid var(--mw-border,var(--app-border)); }
.pool-token-logo { width:18px; height:18px; border-radius:50%; border:1px solid var(--mw-border,var(--app-border)); margin-right:4px; }
.chain-overlay { position:absolute; top:-4px; right:-4px; width:12px; height:12px; border-radius:50%; border:1px solid var(--mw-border,var(--app-border)); background: var(--mw-bg-panel,var(--app-bg-panel)); }
.token-separator { margin:0 4px; color: var(--mw-text-muted,var(--app-text-secondary)); }
.token-symbol { font-weight:600; font-size:14px; color: var(--mw-text-primary,var(--app-text-primary)); }
.mr-10 { margin-right:10px; }

/* --- Added: Uniform table row height & numeric alignment --- */
.table-row, .rebalance-row, .wallet-row, .pool-row, .lending-row { min-height:44px; }
.tabular-nums { font-variant-numeric: tabular-nums; }

/* --- Added: Tooltip delayed appearance hook --- */
.tooltip-wrapper.will-open .tooltip-bubble { animation-delay:130ms; }
.tooltip-bubble { transition:opacity .16s ease, transform .16s ease; }

/* --- Added: Icon tactile feedback --- */
.icon-button:hover { color: var(--mw-text-primary,var(--app-text-primary)); }
.icon-button:active { transform:scale(.96); color: var(--mw-text-primary,var(--app-text-primary)); }

/* --- Added: Skeleton loading styles --- */
.skeleton { position:relative; background:linear-gradient(90deg, rgba(255,255,255,0.06) 25%, rgba(255,255,255,0.12) 37%, rgba(255,255,255,0.06) 63%); background-size:400% 100%; animation:skeleton-shimmer 1.2s ease-in-out infinite; border-radius:6px; }
@media (prefers-reduced-motion: reduce) { .skeleton { animation:none; background:rgba(255,255,255,0.08); } }
@keyframes skeleton-shimmer { 0% { background-position:100% 50%; } 100% { background-position:0 50%; } }
.skeleton.inline { display:inline-block; }
.skeleton.text { height:13px; width:100%; }
.skeleton.circle { border-radius:50%; }

/* --- Added: Trend arrows fallback (data attributes) --- */
.trend-wrap[data-trend='up']::before { content:'\25B2'; font-size:10px; margin-right:4px; color: var(--mw-success-text,#16a34a); }
.trend-wrap[data-trend='down']::before { content:'\25BC'; font-size:10px; margin-right:4px; color: var(--mw-danger-text,#dc2626); }
.trend-wrap[data-disabled='true']::before { content:''; }

